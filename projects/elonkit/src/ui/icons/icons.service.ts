import { Injectable } from '@angular/core';

import { MatIconRegistry } from '@angular/material/icon';
import { DomSanitizer } from '@angular/platform-browser';

export const ES_SVG_ICONS: { [key: string]: any } = {
  'es-empty-state': [
    'bar-chart',
    'bell',
    'box',
    'camera',
    'cart',
    'chat',
    'face',
    'file',
    'filter',
    'image',
    'lock',
    'pie-chart',
    'search',
    'smile',
    'wi-fi',
    'wi-fi-off',
  ] as const,
  'es-audio-player': [
    'check',
    'chevron-left',
    'chevron-right',
    'download',
    'more-vert',
    'mute',
    'pause',
    'play',
    'speed',
    'un-mute',
  ] as const,
  'es-24': [
    'account-line-w500',
    'add-circle-line-w500',
    'alert-circle-fill-w300',
    'alert-circle-fill-w500',
    'alert-fill-w300',
    'alert-fill-w500',
    'apple-line-w500',
    'archive-arrow-down-line-w500',
    'arrow-collapse-line-w400',
    'arrow-down-line-w300',
    'arrow-down-line-w400',
    'arrow-down-line-w500',
    'arrow-expand-line-w400',
    'arrow-left-2-line-w300',
    'arrow-left-line-w300',
    'arrow-left-line-w400',
    'arrow-left-line-w500',
    'arrow-right-2-line-w300',
    'arrow-right-line-w300',
    'arrow-right-line-w400',
    'arrow-right-line-w500',
    'arrow-up-line-w300',
    'arrow-up-line-w400',
    'arrow-up-line-w500',
    'at-line-w500',
    'attachment-line-w500',
    'ball-line-w500',
    'bar-chart-line-w500',
    'bell-badge-fill-w500',
    'bell-badge-line-line-w500',
    'bell-dot-fill-w500',
    'bell-dot-line-line-w500',
    'bell-fill-w500',
    'bell-line-line-w500',
    'bookmark-horizontal-fill-w200',
    'bookmark-line-w200',
    'bookmark-plus-line-w500',
    'breadcrumb-arrow-left-line-w500',
    'breadcrumb-arrow-right-line-w500',
    'breadcrumb-slash-line-w500',
    'cake-line-w200',
    'calendar-month-line-w500',
    'calendar-multiselect-line-w500',
    'calendar-range-end-line-w500',
    'calendar-range-line-w500',
    'calendar-range-start-line-w500',
    'car-line-w500',
    'check-all-line-w300',
    'check-bold-fill-w500',
    'check-circle-fill-w200',
    'check-circle-fill-w300',
    'check-circle-fill-w500',
    'check-line-w300',
    'check-line-w400',
    'check-line-w500',
    'chevron-double',
    'chevron-down-line-w200',
    'chevron-down-line-w300',
    'chevron-down-line-w400',
    'chevron-left-line-w200',
    'chevron-left-line-w300',
    'chevron-left-line-w400',
    'chevron-right-line-w200',
    'chevron-right-line-w300',
    'chevron-right-line-w400',
    'chevron-up-line-w200',
    'chevron-up-line-w300',
    'chevron-up-line-w400',
    'chips-bookmark-fill-w100',
    'chips-bookmark-line-w100',
    'chips-checkbox-line-w200',
    'chips-filter-line-w200',
    'circle-color-check-fill-w500',
    'circle-color-fill-w500',
    'circle-fill-w500',
    'clock-line-w300',
    'close-line-w300',
    'close-line-w350',
    'close-line-w400',
    'close-line-w500',
    'close-line-w600',
    'cog-line-w400',
    'cog-line-w500',
    'comment-text-badge-line-w500',
    'comment-text-line-w500',
    'cookie-fill-w500',
    'copy-line-w400',
    'copy-line-w500',
    'copyright-line-w200',
    'copyright-line-w500',
    'dots-horizontal-2-line-w300',
    'dots-horizontal-line-w100',
    'dots-horizontal-line-w300',
    'dots-horizontal-line-w400',
    'dots-horizontal-line-w500',
    'dots-vertical-2-line-w300',
    'dots-vertical-line-w200',
    'dots-vertical-line-w300',
    'dots-vertical-line-w400',
    'dots-vertical-line-w500',
    'download-line-w300',
    'download-line-w400',
    'download-line-w500',
    'drag-vertical-2-line-w500',
    'drag-vertical-line-w400',
    'drag-vertical-line-w500',
    'duplicate-line-w500',
    'emoticon-plus-line-w400',
    'emotion-happy-2-line-w500',
    'emotion-happy-line-w500',
    'enter-line-w300',
    'error-fill-w300',
    'error-fill-w500',
    'exclamation-line-w500',
    'external-link-line-w300',
    'external-link-line-w400',
    'external-link-line-w500',
    'eye-line-w500',
    'eye-off-line-w500',
    'filter-line-w300',
    'flag-line-w500',
    'format-bold-fill-w500',
    'format-clear-fill-w500',
    'format-font-color-fill-w500',
    'format-header1-fill-w500',
    'format-header2-fill-w500',
    'format-header3-fill-w500',
    'format-image-align-left-line-w500',
    'format-image-align-right-line-w500',
    'format-image-align-width-line-w500',
    'format-italic-fill-w500',
    'format-list-bulleted-line-w500',
    'format-list-numbered-line-w500',
    'format-strikethrough-fill-w500',
    'format-underline-fill-w500',
    'fullscreen-exit-line-w500',
    'fullscreen-line-w500',
    'global-line-w500',
    'group-by-line-w300',
    'heart-fill-w300',
    'heart-line-w300',
    'heart-line-w500',
    'home-line-w300',
    'image-multiple-line-w500',
    'indent-decrease-line-w500',
    'indent-increase-line-w500',
    'information-2-fill-w400',
    'information-2-fill-w500',
    'information-fill-w200',
    'information-fill-w300',
    'information-fill-w500',
    'information-line-w200',
    'leaf-line-w500',
    'lightbulb-line-w500',
    'link-2-line-w500',
    'link-line-w500',
    'link-off-line-w500',
    'list-alt-close-line-w500',
    'list-alt-line-w500',
    'list-plus-line-w500',
    'live-video-line-w500',
    'magnify-2-line-w400',
    'magnify-2-line-w500',
    'magnify-line-w500',
    'magnify-plus-file-w500',
    'mail-line-w500',
    'map-marker-fill-w300',
    'map-marker-line-w300',
    'menu-down-fill-w200',
    'menu-down-fill-w300',
    'menu-down-fill-w400',
    'menu-left-fill-w200',
    'menu-left-fill-w300',
    'menu-left-fill-w400',
    'menu-line-w500',
    'menu-right-fill-w200',
    'menu-right-fill-w300',
    'menu-right-fill-w400',
    'menu-up-fill-w200',
    'menu-up-fill-w300',
    'menu-up-fill-w400',
    'minus-line-w400',
    'numeric-1.5x-line-w500',
    'numeric-1x-line-w500',
    'numeric-2x-line-w500',
    'pause-fill-w300',
    'pause-fill-w400',
    'pause-fill-w500',
    'pencil-fill-w300',
    'pencil-fill-w400',
    'pencil-line-w500',
    'phone-cancel-fill-w500',
    'phone-in-talk-2-line-w300',
    'phone-in-talk-fill-w500',
    'phone-in-talk-line-w500',
    'pin-line-w500',
    'play-fill-w300',
    'play-fill-w400',
    'play-fill-w500',
    'plus-line-w300',
    'plus-line-w400',
    'plus-line-w500',
    'pushpin-fill-w300',
    'question-fill-w200',
    'question-line-w200',
    'replace-line-w500',
    'resize-bottom-right-line-w500',
    'scroll-vertical-fill-w400',
    'send-fill-w500',
    'sfs-column-line-w200',
    'share-line-w400',
    'shopping-cart-line-w400',
    'shopping-cart-line-w500',
    'shopping-cart-plus-line-w600',
    'shuffle-line-w500',
    'skip-back-fill-w500',
    'skip-forward-fill-w500',
    'sort-ascending-2-line-w100',
    'sort-ascending-line-w200',
    'sort-descending-2-line-w100',
    'sort-descending-line-w200',
    'sort-down-line-w200',
    'sort-manual-line-w200',
    'sort-multiple-line-w200',
    'sort-off-line-w200',
    'sort-up-line-w200',
    'sound-line-w500',
    'speedometer-line-w500',
    'star-fill-w50',
    'star-fill-w100',
    'star-fill-w200',
    'star-fill-w300',
    'star-fill-w400',
    'star-fill-w500',
    'star-line-w50',
    'star-line-w100',
    'star-line-w200',
    'star-line-w300',
    'star-line-w400',
    'star-line-w500',
    'stop-fill-w300',
    'stop-fill-w400',
    'stop-fill-w500',
    'telegram-fill-w500',
    'thumb-down-line-w500',
    'thumb-up-fill-w500',
    'trash-2-line-w400',
    'trash-3-line-w300',
    'trash-fill-w500',
    'trash-line-w500',
    'truck-line-w500',
    'tune-vertical-line-w300',
    'tune-vertical-line-w500',
    'turn-info-line-w500',
    'unlink-line-w500',
    'upload-fill-w500',
    'view-agenda-line-w500',
    'view-grid-line-w500',
    'view-headline-line-w500',
    'view-kanban',
    'view-left-block-line-w500',
    'view-right-block-line-w500',
    'vk-fill-w500',
    'volume-high-fill-w500',
    'volume-low-fill-w500',
    'volume-mute-fill-w500',
    'youtube-fill-w500',
  ] as const,
  'es-48': [
    '360-rotation-line-w500-lc',
    'account-fill-w500-lc',
    'account-rounded-fill-w500-lc',
    'alert-circle-fill-w500-lc',
    'alert-fill-w500-lc',
    'check-circle-fill-w500-lc',
    'close-circle-fill-w500-lc',
    'error-fill-w500-lc',
    'error-fill-w500-lc',
    'image-fill-w500-lc',
    'information-fill-w500-lc',
    'seal-fill-w500-lc',
    'star-fill-w200-lc',
    'star-fill-w300-lc',
    'star-fill-w400-lc',
    'star-fill-w500-lc',
    'star-fill-w600-lc',
    'star-line-w200-lc',
    'star-line-w300-lc',
    'star-line-w400-lc',
    'star-line-w500-lc',
    'star-line-w600-lc',
  ] as const,
  'es-other': ['video-300', 'video-500'] as const,
  'es-autocomplete-field': ['clear-small', 'clear', 'magnify', 'menu-down', 'menu-up'] as const,
};

@Injectable()
export class ESIconsService {
  constructor(
    private matIconRegistry: MatIconRegistry,
    private domSanitizer: DomSanitizer
  ) {}

  /**
   * Add svg icons by resource url.
   * @param overrides Path mapping to icons to use instead of built-in ones.
   */
  public register(overrides?: {
    [component in keyof typeof ES_SVG_ICONS]?: {
      [icon in (typeof ES_SVG_ICONS)[component][number]]?: string;
    };
  }) {
    Object.keys(ES_SVG_ICONS).forEach((component) => {
      ES_SVG_ICONS[component].forEach((icon: any) => {
        this.matIconRegistry.addSvgIconInNamespace(
          `${component}`,
          `${icon}`,
          this.domSanitizer.bypassSecurityTrustResourceUrl(
            overrides?.[component]?.[icon] || `./assets/elonkit/${component}/${icon}.svg`
          )
        );
      });
    });
  }
}
